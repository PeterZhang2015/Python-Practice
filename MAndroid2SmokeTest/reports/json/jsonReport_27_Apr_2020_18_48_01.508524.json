{"created": 1587977289.9250686, "duration": 5.737176179885864, "exitcode": 1, "root": "C:\\Work\\Projects\\Python-Practice", "environment": {"Python": "3.7.1", "Platform": "Windows-10-10.0.18362-SP0", "Packages": {"pytest": "5.3.4", "py": "1.8.1", "pluggy": "0.13.1"}, "Plugins": {"allure-pytest": "2.8.7", "html": "2.1.1", "json-report": "1.2.1", "metadata": "1.8.0", "reportportal": "5.0.0"}, "JAVA_HOME": "C:\\Program Files\\Java\\jre1.8.0_241"}, "summary": {"failed": 4, "passed": 1, "total": 5, "collected": 5}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py", "type": "Module"}]}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases", "outcome": "passed", "result": [{"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters0-testEnvironment0]", "type": "Function", "lineno": 43}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters0-testEnvironment1]", "type": "Function", "lineno": 43}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters1-testEnvironment0]", "type": "Function", "lineno": 43}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters1-testEnvironment1]", "type": "Function", "lineno": 43}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_example", "type": "Function", "lineno": 97}]}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases", "outcome": "passed", "result": [{"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases", "type": "Instance"}]}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py", "outcome": "passed", "result": [{"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases", "type": "Class"}]}], "tests": [{"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters0-testEnvironment0]", "lineno": 43, "outcome": "failed", "keywords": ["testParameters0-testEnvironment0", "parametrize", "()", "test_MAndroid2_VoiceCall[testParameters0-testEnvironment0]", "Python-Practice", "pytestmark", "TestMAndroid2TestCases", "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py"], "setup": {"duration": 0.0009975433349609375, "outcome": "passed"}, "call": {"duration": 0.9958481788635254, "outcome": "failed", "crash": {"path": "C:\\Work\\Projects\\Python-Practice\\MAndroid2SmokeTest\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError: 'MSISDN'"}, "traceback": [{"path": "test_MAndroid2TestCases.py", "lineno": 81, "message": ""}, {"path": "..\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError"}], "stdout": "{'VoiceCallTestCaseInfo': {'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestSteps': ['Place voice call.', 'Receive voice call.', 'Wait for call duraton.', 'End voice call.'], 'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.']}}\nRead test configuration yaml file ../configuration/testCaseInfo/testCaseInfo.yaml successfully.\nVoice call duration is 10\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\nHandset with IMSI 505025104559746 has not been occupied.\nCorresponding device serial is 25cb81cc6f0d7ece.\nFind the matched IMSI 505025104559746 on mcloud\n##########Calling REST API to use device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding 25cb81cc6f0d7ece to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7541'}\nconnect 505025104559746 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7541\nMO Handset ID is mcloud.matrium.com.au:7541\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\nHandset with IMSI 505025703492762 has not been occupied.\nCorresponding device serial is ce12160ccd1f323f05.\nFind the matched IMSI 505025703492762 on mcloud\n##########Calling REST API to use device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding ce12160ccd1f323f05 to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7569'}\nconnect 505025703492762 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7569\nMT Handset ID is mcloud.matrium.com.au:7569\nStarting voice call test case.\n", "longrepr": "self = <test_MAndroid2TestCases.TestMAndroid2TestCases object at 0x00000216AD6E7FD0>\njson_metadata = {}\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7541'}, 'MT': {'IMSI': '505025703492762', 'MSISDN': '+61402537622', 'handsetID': 'mcloud.matrium.com.au:7569'}}}\ntestParameters = {'VoiceCall': {'Duration': 10}}\n\n    @pytest.mark.parametrize(\"testEnvironment\", testEnvironment)\n    @pytest.mark.parametrize(\"testParameters\", testParameters)\n    def test_MAndroid2_VoiceCall(self, json_metadata, testEnvironment, testParameters):\n        # Initialization\n        self.testEnvironment = testEnvironment\n        self.testParameters = testParameters\n        self.responseList = []\n        self.testResults = []\n        testCaseKey = 'VoiceCall'\n        testCaseInfoFileName = \"../configuration/testCaseInfo/testCaseInfo.yaml\"\n        testCaseInfoName = \"VoiceCallTestCaseInfo\"\n    \n        # Read test case info.\n        self.testCaseInfo = getConfigureInfo(testCaseInfoFileName, testCaseInfoName)\n    \n        # Checking Test parameters.\n        self.checkConfiguration(testEnvironment)\n        assert (\"VoiceCall\" in self.testParameters)\n        assert (\"Duration\" in self.testParameters['VoiceCall'])\n        print(\"Voice call duration is {}\".format(testParameters['VoiceCall']['Duration']))\n    \n        # Connect available test handset on mcloud from specified IMSI.\n        mcloud = MCloudControl()\n    \n        # Set test environment variables.\n        mcloud.mcloudBaseUrl = self.testEnvironment['MCloud']['baseUrl']\n        mcloud.mcloudLoginUser = self.testEnvironment['Login']['User']\n        mcloud.mcloudLoginToken = self.testEnvironment['Login']['accessToken']\n    \n        self.testEnvironment['testUsers']['MO']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MO']['IMSI'])\n        print(\"MO Handset ID is {}\".format(self.testEnvironment['testUsers']['MO']['handsetID']))\n    \n        self.testEnvironment['testUsers']['MT']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MT']['IMSI'])\n        print(\"MT Handset ID is {}\".format(self.testEnvironment['testUsers']['MT']['handsetID']))\n    \n        # Starting test logic.\n        print(\"Starting voice call test case.\")\n>       self.responseList = executeTestLogic(self.testEnvironment, self.testCaseInfo, testCaseKey, self.testParameters)\n\ntest_MAndroid2TestCases.py:81: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7541'}, 'MT': {'IMSI': '505025703492762', 'MSISDN': '+61402537622', 'handsetID': 'mcloud.matrium.com.au:7569'}}}\ntestCaseInfo = {'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.'], 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', ...}\ntestCaseKey = 'VoiceCall', testParameters = {'VoiceCall': {'Duration': 10}}\n\n    def executeTestLogic(testEnvironment, testCaseInfo, testCaseKey, testParameters):\n        responseList = []\n    \n        if (testCaseKey == 'VoiceCall'):\n            testSteps = testCaseInfo['TestSteps']\n            for testStep in testSteps:\n                response = {}\n                if (testStep == 'Place voice call.'):\n                    placeResponse = placeBasicVoiceCall(testEnvironment['MAndroid2AgentPath'],\n                                                        testEnvironment['testUsers']['MO']['handsetID'],\n>                                                       testEnvironment['testUsers']['MSISDN'])\nE                   KeyError: 'MSISDN'\n\n..\\library\\MAndroid2BaseCommon.py:77: KeyError"}, "teardown": {"duration": 0.000997304916381836, "outcome": "passed"}}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters0-testEnvironment1]", "lineno": 43, "outcome": "failed", "keywords": ["parametrize", "()", "Python-Practice", "pytestmark", "TestMAndroid2TestCases", "testParameters0-testEnvironment1", "test_MAndroid2_VoiceCall[testParameters0-testEnvironment1]", "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py"], "setup": {"duration": 0.000997304916381836, "outcome": "passed"}, "call": {"duration": 1.1579070091247559, "outcome": "failed", "crash": {"path": "C:\\Work\\Projects\\Python-Practice\\MAndroid2SmokeTest\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError: 'MSISDN'"}, "traceback": [{"path": "test_MAndroid2TestCases.py", "lineno": 81, "message": ""}, {"path": "..\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError"}], "stdout": "{'VoiceCallTestCaseInfo': {'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestSteps': ['Place voice call.', 'Receive voice call.', 'Wait for call duraton.', 'End voice call.'], 'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.']}}\nRead test configuration yaml file ../configuration/testCaseInfo/testCaseInfo.yaml successfully.\nVoice call duration is 10\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025703492762 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025703492762 on mcloud\n##########Calling REST API to use device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding ce12160ccd1f323f05 to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7569'}\nconnect 505025703492762 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7569\nMO Handset ID is mcloud.matrium.com.au:7569\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025104559746 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025104559746 on mcloud\n##########Calling REST API to use device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding 25cb81cc6f0d7ece to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7541'}\nconnect 505025104559746 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7541\nMT Handset ID is mcloud.matrium.com.au:7541\nStarting voice call test case.\n", "longrepr": "self = <test_MAndroid2TestCases.TestMAndroid2TestCases object at 0x00000216AD77E390>\njson_metadata = {}\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7569'}, 'MT': {'IMSI': '505025104559746', 'MSISDN': '+61418673947', 'handsetID': 'mcloud.matrium.com.au:7541'}}}\ntestParameters = {'VoiceCall': {'Duration': 10}}\n\n    @pytest.mark.parametrize(\"testEnvironment\", testEnvironment)\n    @pytest.mark.parametrize(\"testParameters\", testParameters)\n    def test_MAndroid2_VoiceCall(self, json_metadata, testEnvironment, testParameters):\n        # Initialization\n        self.testEnvironment = testEnvironment\n        self.testParameters = testParameters\n        self.responseList = []\n        self.testResults = []\n        testCaseKey = 'VoiceCall'\n        testCaseInfoFileName = \"../configuration/testCaseInfo/testCaseInfo.yaml\"\n        testCaseInfoName = \"VoiceCallTestCaseInfo\"\n    \n        # Read test case info.\n        self.testCaseInfo = getConfigureInfo(testCaseInfoFileName, testCaseInfoName)\n    \n        # Checking Test parameters.\n        self.checkConfiguration(testEnvironment)\n        assert (\"VoiceCall\" in self.testParameters)\n        assert (\"Duration\" in self.testParameters['VoiceCall'])\n        print(\"Voice call duration is {}\".format(testParameters['VoiceCall']['Duration']))\n    \n        # Connect available test handset on mcloud from specified IMSI.\n        mcloud = MCloudControl()\n    \n        # Set test environment variables.\n        mcloud.mcloudBaseUrl = self.testEnvironment['MCloud']['baseUrl']\n        mcloud.mcloudLoginUser = self.testEnvironment['Login']['User']\n        mcloud.mcloudLoginToken = self.testEnvironment['Login']['accessToken']\n    \n        self.testEnvironment['testUsers']['MO']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MO']['IMSI'])\n        print(\"MO Handset ID is {}\".format(self.testEnvironment['testUsers']['MO']['handsetID']))\n    \n        self.testEnvironment['testUsers']['MT']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MT']['IMSI'])\n        print(\"MT Handset ID is {}\".format(self.testEnvironment['testUsers']['MT']['handsetID']))\n    \n        # Starting test logic.\n        print(\"Starting voice call test case.\")\n>       self.responseList = executeTestLogic(self.testEnvironment, self.testCaseInfo, testCaseKey, self.testParameters)\n\ntest_MAndroid2TestCases.py:81: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7569'}, 'MT': {'IMSI': '505025104559746', 'MSISDN': '+61418673947', 'handsetID': 'mcloud.matrium.com.au:7541'}}}\ntestCaseInfo = {'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.'], 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', ...}\ntestCaseKey = 'VoiceCall', testParameters = {'VoiceCall': {'Duration': 10}}\n\n    def executeTestLogic(testEnvironment, testCaseInfo, testCaseKey, testParameters):\n        responseList = []\n    \n        if (testCaseKey == 'VoiceCall'):\n            testSteps = testCaseInfo['TestSteps']\n            for testStep in testSteps:\n                response = {}\n                if (testStep == 'Place voice call.'):\n                    placeResponse = placeBasicVoiceCall(testEnvironment['MAndroid2AgentPath'],\n                                                        testEnvironment['testUsers']['MO']['handsetID'],\n>                                                       testEnvironment['testUsers']['MSISDN'])\nE                   KeyError: 'MSISDN'\n\n..\\library\\MAndroid2BaseCommon.py:77: KeyError"}, "teardown": {"duration": 0.0009965896606445312, "outcome": "passed"}}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters1-testEnvironment0]", "lineno": 43, "outcome": "failed", "keywords": ["parametrize", "()", "testParameters1-testEnvironment0", "Python-Practice", "pytestmark", "TestMAndroid2TestCases", "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py", "test_MAndroid2_VoiceCall[testParameters1-testEnvironment0]"], "setup": {"duration": 0.000997304916381836, "outcome": "passed"}, "call": {"duration": 1.6406140327453613, "outcome": "failed", "crash": {"path": "C:\\Work\\Projects\\Python-Practice\\MAndroid2SmokeTest\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError: 'MSISDN'"}, "traceback": [{"path": "test_MAndroid2TestCases.py", "lineno": 81, "message": ""}, {"path": "..\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError"}], "stdout": "{'VoiceCallTestCaseInfo': {'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestSteps': ['Place voice call.', 'Receive voice call.', 'Wait for call duraton.', 'End voice call.'], 'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.']}}\nRead test configuration yaml file ../configuration/testCaseInfo/testCaseInfo.yaml successfully.\nVoice call duration is 5\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025104559746 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025104559746 on mcloud\n##########Calling REST API to use device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding 25cb81cc6f0d7ece to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7541'}\nconnect 505025104559746 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7541\nMO Handset ID is mcloud.matrium.com.au:7541\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025703492762 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025703492762 on mcloud\n##########Calling REST API to use device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding ce12160ccd1f323f05 to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7569'}\nconnect 505025703492762 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7569\nMT Handset ID is mcloud.matrium.com.au:7569\nStarting voice call test case.\n", "longrepr": "self = <test_MAndroid2TestCases.TestMAndroid2TestCases object at 0x00000216AD818B70>\njson_metadata = {}\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7541'}, 'MT': {'IMSI': '505025703492762', 'MSISDN': '+61402537622', 'handsetID': 'mcloud.matrium.com.au:7569'}}}\ntestParameters = {'VoiceCall': {'Duration': 5}}\n\n    @pytest.mark.parametrize(\"testEnvironment\", testEnvironment)\n    @pytest.mark.parametrize(\"testParameters\", testParameters)\n    def test_MAndroid2_VoiceCall(self, json_metadata, testEnvironment, testParameters):\n        # Initialization\n        self.testEnvironment = testEnvironment\n        self.testParameters = testParameters\n        self.responseList = []\n        self.testResults = []\n        testCaseKey = 'VoiceCall'\n        testCaseInfoFileName = \"../configuration/testCaseInfo/testCaseInfo.yaml\"\n        testCaseInfoName = \"VoiceCallTestCaseInfo\"\n    \n        # Read test case info.\n        self.testCaseInfo = getConfigureInfo(testCaseInfoFileName, testCaseInfoName)\n    \n        # Checking Test parameters.\n        self.checkConfiguration(testEnvironment)\n        assert (\"VoiceCall\" in self.testParameters)\n        assert (\"Duration\" in self.testParameters['VoiceCall'])\n        print(\"Voice call duration is {}\".format(testParameters['VoiceCall']['Duration']))\n    \n        # Connect available test handset on mcloud from specified IMSI.\n        mcloud = MCloudControl()\n    \n        # Set test environment variables.\n        mcloud.mcloudBaseUrl = self.testEnvironment['MCloud']['baseUrl']\n        mcloud.mcloudLoginUser = self.testEnvironment['Login']['User']\n        mcloud.mcloudLoginToken = self.testEnvironment['Login']['accessToken']\n    \n        self.testEnvironment['testUsers']['MO']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MO']['IMSI'])\n        print(\"MO Handset ID is {}\".format(self.testEnvironment['testUsers']['MO']['handsetID']))\n    \n        self.testEnvironment['testUsers']['MT']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MT']['IMSI'])\n        print(\"MT Handset ID is {}\".format(self.testEnvironment['testUsers']['MT']['handsetID']))\n    \n        # Starting test logic.\n        print(\"Starting voice call test case.\")\n>       self.responseList = executeTestLogic(self.testEnvironment, self.testCaseInfo, testCaseKey, self.testParameters)\n\ntest_MAndroid2TestCases.py:81: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7541'}, 'MT': {'IMSI': '505025703492762', 'MSISDN': '+61402537622', 'handsetID': 'mcloud.matrium.com.au:7569'}}}\ntestCaseInfo = {'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.'], 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', ...}\ntestCaseKey = 'VoiceCall', testParameters = {'VoiceCall': {'Duration': 5}}\n\n    def executeTestLogic(testEnvironment, testCaseInfo, testCaseKey, testParameters):\n        responseList = []\n    \n        if (testCaseKey == 'VoiceCall'):\n            testSteps = testCaseInfo['TestSteps']\n            for testStep in testSteps:\n                response = {}\n                if (testStep == 'Place voice call.'):\n                    placeResponse = placeBasicVoiceCall(testEnvironment['MAndroid2AgentPath'],\n                                                        testEnvironment['testUsers']['MO']['handsetID'],\n>                                                       testEnvironment['testUsers']['MSISDN'])\nE                   KeyError: 'MSISDN'\n\n..\\library\\MAndroid2BaseCommon.py:77: KeyError"}, "teardown": {"duration": 0.0009970664978027344, "outcome": "passed"}}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_MAndroid2_VoiceCall[testParameters1-testEnvironment1]", "lineno": 43, "outcome": "failed", "keywords": ["parametrize", "()", "testParameters1-testEnvironment1", "Python-Practice", "pytestmark", "test_MAndroid2_VoiceCall[testParameters1-testEnvironment1]", "TestMAndroid2TestCases", "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py"], "setup": {"duration": 0.0, "outcome": "passed"}, "call": {"duration": 1.0252597332000732, "outcome": "failed", "crash": {"path": "C:\\Work\\Projects\\Python-Practice\\MAndroid2SmokeTest\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError: 'MSISDN'"}, "traceback": [{"path": "test_MAndroid2TestCases.py", "lineno": 81, "message": ""}, {"path": "..\\library\\MAndroid2BaseCommon.py", "lineno": 77, "message": "KeyError"}], "stdout": "{'VoiceCallTestCaseInfo': {'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestSteps': ['Place voice call.', 'Receive voice call.', 'Wait for call duraton.', 'End voice call.'], 'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.']}}\nRead test configuration yaml file ../configuration/testCaseInfo/testCaseInfo.yaml successfully.\nVoice call duration is 5\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025703492762 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025703492762 on mcloud\n##########Calling REST API to use device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding ce12160ccd1f323f05 to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device ce12160ccd1f323f05 on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/ce12160ccd1f323f05/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7569'}\nconnect 505025703492762 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7569\nMO Handset ID is mcloud.matrium.com.au:7569\n##########Calling REST API to get devices list on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/devices\n##########Calling REST API to release device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece\nresp.status_code is 200\n{'success': True, 'description': 'Device successfully removed'}\nHandset with IMSI 505025104559746 has been occupied by myself Peter.Zhang@matrium.com.au.\nFind the matched IMSI 505025104559746 on mcloud\n##########Calling REST API to use device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices\n{'success': True, 'description': 'Device successfully added'}\nAdding 25cb81cc6f0d7ece to deviceSerialList\n##########Calling REST API to get the remote debug URL of the testing device 25cb81cc6f0d7ece on MCloud.\nhttp://mcloud.matrium.com.au:7100/api/v1/user/devices/25cb81cc6f0d7ece/remoteConnect\n{'success': True, 'remoteConnectUrl': 'mcloud.matrium.com.au:7541'}\nconnect 505025104559746 on mcloud successfully\nremoteConnectUrl is  mcloud.matrium.com.au:7541\nMT Handset ID is mcloud.matrium.com.au:7541\nStarting voice call test case.\n", "longrepr": "self = <test_MAndroid2TestCases.TestMAndroid2TestCases object at 0x00000216AD7EBCC0>\njson_metadata = {}\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7569'}, 'MT': {'IMSI': '505025104559746', 'MSISDN': '+61418673947', 'handsetID': 'mcloud.matrium.com.au:7541'}}}\ntestParameters = {'VoiceCall': {'Duration': 5}}\n\n    @pytest.mark.parametrize(\"testEnvironment\", testEnvironment)\n    @pytest.mark.parametrize(\"testParameters\", testParameters)\n    def test_MAndroid2_VoiceCall(self, json_metadata, testEnvironment, testParameters):\n        # Initialization\n        self.testEnvironment = testEnvironment\n        self.testParameters = testParameters\n        self.responseList = []\n        self.testResults = []\n        testCaseKey = 'VoiceCall'\n        testCaseInfoFileName = \"../configuration/testCaseInfo/testCaseInfo.yaml\"\n        testCaseInfoName = \"VoiceCallTestCaseInfo\"\n    \n        # Read test case info.\n        self.testCaseInfo = getConfigureInfo(testCaseInfoFileName, testCaseInfoName)\n    \n        # Checking Test parameters.\n        self.checkConfiguration(testEnvironment)\n        assert (\"VoiceCall\" in self.testParameters)\n        assert (\"Duration\" in self.testParameters['VoiceCall'])\n        print(\"Voice call duration is {}\".format(testParameters['VoiceCall']['Duration']))\n    \n        # Connect available test handset on mcloud from specified IMSI.\n        mcloud = MCloudControl()\n    \n        # Set test environment variables.\n        mcloud.mcloudBaseUrl = self.testEnvironment['MCloud']['baseUrl']\n        mcloud.mcloudLoginUser = self.testEnvironment['Login']['User']\n        mcloud.mcloudLoginToken = self.testEnvironment['Login']['accessToken']\n    \n        self.testEnvironment['testUsers']['MO']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MO']['IMSI'])\n        print(\"MO Handset ID is {}\".format(self.testEnvironment['testUsers']['MO']['handsetID']))\n    \n        self.testEnvironment['testUsers']['MT']['handsetID'] = mcloud.connectToMcloudUser(self.testEnvironment['testUsers']['MT']['IMSI'])\n        print(\"MT Handset ID is {}\".format(self.testEnvironment['testUsers']['MT']['handsetID']))\n    \n        # Starting test logic.\n        print(\"Starting voice call test case.\")\n>       self.responseList = executeTestLogic(self.testEnvironment, self.testCaseInfo, testCaseKey, self.testParameters)\n\ntest_MAndroid2TestCases.py:81: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntestEnvironment = {'Login': {'User': 'Peter.Zhang@matrium.com.au', 'accessToken': 'Bearer 6fc22b08ce00468fa56cc53a22384012e16d1ac9ab1240...com.au:7569'}, 'MT': {'IMSI': '505025104559746', 'MSISDN': '+61418673947', 'handsetID': 'mcloud.matrium.com.au:7541'}}}\ntestCaseInfo = {'CheckPoints': ['Place voice call successfully.', 'Receive voice call successfully.', 'End voice call successfully.'], 'Description': 'Basic voice call.', 'Precondition': 'None.', 'TestCaseID': 'MAndroid2_Smoke_Test_001_Voice_Call', ...}\ntestCaseKey = 'VoiceCall', testParameters = {'VoiceCall': {'Duration': 5}}\n\n    def executeTestLogic(testEnvironment, testCaseInfo, testCaseKey, testParameters):\n        responseList = []\n    \n        if (testCaseKey == 'VoiceCall'):\n            testSteps = testCaseInfo['TestSteps']\n            for testStep in testSteps:\n                response = {}\n                if (testStep == 'Place voice call.'):\n                    placeResponse = placeBasicVoiceCall(testEnvironment['MAndroid2AgentPath'],\n                                                        testEnvironment['testUsers']['MO']['handsetID'],\n>                                                       testEnvironment['testUsers']['MSISDN'])\nE                   KeyError: 'MSISDN'\n\n..\\library\\MAndroid2BaseCommon.py:77: KeyError"}, "teardown": {"duration": 0.0010006427764892578, "outcome": "passed"}}, {"nodeid": "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py::TestMAndroid2TestCases::test_example", "lineno": 97, "outcome": "passed", "keywords": ["test_example", "()", "Python-Practice", "TestMAndroid2TestCases", "MAndroid2SmokeTest/testcases/test_MAndroid2TestCases.py"], "setup": {"duration": 0.0009944438934326172, "outcome": "passed"}, "call": {"duration": 0.000997781753540039, "outcome": "passed", "stdout": "***************************test Example************************************\n"}, "teardown": {"duration": 0.0, "outcome": "passed"}}]}